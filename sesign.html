<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Unknown Gamer - VIP Signup</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;600&family=Poppins&display=swap" rel="stylesheet"/>
<style>
:root { --pink: #ff00cc; }
body {
  background:#0e0e0e; font-family:'Poppins',sans-serif; color:white;
  min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:1.8rem; margin:0;
}
.main-title {
  font-family:'Orbitron',sans-serif; font-size:2.4rem; font-weight:bold;
  margin-top:5rem; background:linear-gradient(90deg,#ff00cc,#3333ff 90%);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}
.stat-outer, .vip-card {
  width:320px; border-radius:10px;padding:1px;
  background:radial-gradient(circle 230px at 0% 0%, #ffffff, #0c0d0d);
  box-shadow:0 0 40px #ff00cc88, inset 0 0 10px #ff00cc44;
}
.vip-card {
  padding:20px; border-radius:9px;
  background:radial-gradient(circle 280px at 0% 0%, #444,#0c0d0d);
  display:flex; flex-direction:column; gap:0.6rem; margin-bottom:1.3rem;
}
.vip-card h2 {
  font-family:'Orbitron',sans-serif; font-size:2.2rem; font-weight:bold;
  background:linear-gradient(90deg,#ff00cc,#3333ff 90%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  margin-bottom:1.4rem;
}
form { display: flex; flex-direction: column; gap: 1rem; text-align: left; }
label { font-weight: 600; color: #ff77ffcc;}
input {
  padding: 0.8rem 1rem; font-size: 1rem;
  border-radius: 10px; border: 2px solid #333;
  background: #222; color: white;
  transition: border-color 0.3s ease; caret-color: #ff00cc;
}
input:focus { border-color: #ff00cc; box-shadow: 0 0 10px #ff00cc88; outline: none; }
.error-msg { color: #ff4d4f; font-size: 0.85rem; min-height: 1.2rem;}
button {
  margin-top: 1rem; padding: 0.85rem; font-size: 1.15rem; font-weight: 700;
  border-radius: 30px; border: none;
  background: linear-gradient(90deg, #ff00cc, #ff007a); color: white;
  cursor: pointer; box-shadow: 0 0 15px #ff00ccaa;
  transition: 0.3s ease;
}
button:disabled { background: #330033; color: #880088; box-shadow: none; cursor: not-allowed; }
button:not(:disabled):hover { background: linear-gradient(90deg, #ff33ee, #ff3399); transform: scale(1.05); }
.form-status { margin-top:1rem; font-size:1rem; font-weight:600; min-height:1.3rem; text-align:center;}
.form-status.success {color:#4caf50;}
.form-status.error {color:#ff4d4f;}
.vip-note { margin-top:1.2rem; font-size:0.97rem; color:#aaa; text-align:center;}
.vip-note a { color:var(--pink); font-weight:600; text-decoration:none;}
</style>
</head>
<body>
<div class="main-title">VIP SIGNUP</div>
<div class="vip-card">
  <h2>Sign Up</h2>
  <form id="signup-form" novalidate>
    <label for="vip-name">Full Name</label>
    <input type="text" id="vip-name" placeholder="Enter your full name" required autocomplete="name" />
    <div id="name-error" class="error-msg"></div>
    <label for="vip-email">Premium Email</label>
    <input type="email" id="vip-email" placeholder="Enter your premium email" required autocomplete="username" />
    <div id="email-error" class="error-msg"></div>
    <label for="vip-password">Create Password</label>
    <input type="password" id="vip-password" placeholder="Create a password (min 6 chars)" minlength="6" required autocomplete="new-password" />
    <div id="password-error" class="error-msg"></div>
    <label for="vip-confirm">Confirm Password</label>
    <input type="password" id="vip-confirm" placeholder="Re-enter password" minlength="6" required autocomplete="new-password" />
    <div id="confirm-error" class="error-msg"></div>
    <button type="submit" disabled>Sign Up</button>
  </form>
  <div class="form-status" id="form-status"></div>
  <div class="vip-note">Already VIP? <a href="viplogin.html">Login here</a></div>
</div>
<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyA7oSJNvZxv2aBYNUGfj4UWJdm6yIoUwC8",
  authDomain: "vip-membership-b131a.firebaseapp.com",
  projectId: "vip-membership-b131a",
  storageBucket: "vip-membership-b131a.appspot.com",
  messagingSenderId: "1086103978236",
  appId: "1:1086103978236:web:b106e8d9afdc3d36925779"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth(); const db = firebase.firestore();

const form = document.getElementById('signup-form');
const nameInput = document.getElementById('vip-name');
const emailInput = document.getElementById('vip-email');
const passwordInput = document.getElementById('vip-password');
const confirmInput = document.getElementById('vip-confirm');
const submitBtn = form.querySelector('button');
const statusMsg = document.getElementById('form-status');

const nameError = document.getElementById('name-error');
const emailError = document.getElementById('email-error');
const passwordError = document.getElementById('password-error');
const confirmError = document.getElementById('confirm-error');
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
function validateName(){ if(!nameInput.value.trim()){ nameError.textContent="Name is required"; return false;} nameError.textContent=""; return true;}
function validateEmail(){const e=emailInput.value.trim();if(!e){emailError.textContent="Email required"; return false;}if(!emailRegex.test(e)){emailError.textContent="Invalid email"; return false;}emailError.textContent="";return true;}
function validatePassword(){if(!passwordInput.value){passwordError.textContent="Password required"; return false;}if(passwordInput.value.length<6){passwordError.textContent="Minimum 6 characters"; return false;}passwordError.textContent="";return true;}
function validateConfirm(){if(confirmInput.value!==passwordInput.value){confirmError.textContent="Passwords do not match"; return false;}confirmError.textContent="";return true;}
function checkForm(){const baseValid=validateName()&validateEmail()&validatePassword()&validateConfirm();submitBtn.disabled=!baseValid;return baseValid;}
[nameInput,emailInput,passwordInput,confirmInput].forEach(i=>i.addEventListener('input',checkForm));
form.addEventListener('submit', async e=>{
  e.preventDefault(); if(!checkForm()) return; submitBtn.disabled=true; statusMsg.textContent = "Creating account...";
  const name = nameInput.value.trim(), email = emailInput.value.trim().toLowerCase(), password = passwordInput.value;
  try{
    const cred=await auth.createUserWithEmailAndPassword(email,password);
    await cred.user.updateProfile({displayName:name});
    // Default expired date (Jan 1, 2020)
    const expiredDate = new Date(2020,0,1);
    await db.collection("UNKNOWN").doc(email).set({
      HI: name, EMAIL: email,
      subscriptionType: "Not VIP",
      subscriptionExpiry: firebase.firestore.Timestamp.fromDate(expiredDate),
      APP: "GG MOUSE PRO", PASSWORD:"", createdAt:firebase.firestore.FieldValue.serverTimestamp()
    });
    statusMsg.textContent="Signed up successfully! Redirecting...";
    statusMsg.className="form-status success";
    setTimeout(()=>window.location.href="viphome.html",1500);
  }catch(err){
    statusMsg.textContent=err.message; statusMsg.className="form-status error"; submitBtn.disabled=false;
  }
});
</script>
</body>
</html>
